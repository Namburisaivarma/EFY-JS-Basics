<html>
  <head>
    <title>Welcome to JS Class</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script>
      var myName = 'Varma';
      var age = 46;
      var isStudent = false;
      /*
            This is
            multiline
            comment
        */
      //alert(myName)
      console.log('Welcome to ' + myName);

      age = 'Fourty Six';

      var x;

      age = null;

      var student = {
        name: 'sia',
        age: 36,
        isStudent: false,
        'college name': 'JNTU',
        1: 'one',
      };

      // conditional Statements

      var color = 'red';

      if (color == 'red') {
        console.log('color is red');
      } else if (color == 'black') {
        console.log('color is black');
      } else if (color == 'green') {
        console.log('color is green');
      } else {
        console.log('color is unknown');
      }

      // Logical Operators
      if (color == 'red' || color == 'green') {
        console.log('Rainbow color');
      }

      if (color == 'red' && color == 'green') {
        console.log('Rainbow color');
      }

      if (color != 'red') {
      }

      if (!(color == 'red')) {
      }

      var a = 2;

      if (a) {
      } else {
      }

      // Ternary Expression
      color == 'red' ? console.log('red') : console.log('unknown');

      //Switch
      switch (color) {
        case 'red':
          console.log('Color is red');
          break;
        case 'black':
          console.log('Color is black');
          break;
        default:
          console.log('Color is unknown');
      }

      //Loops

      //While
      var a = 0;

      while (a <= 10) {
        console.log(a);
        a++;
      }

      //do while

      var b = 0;
      do {
        console.log(b);
        b++;
      } while (b <= 10);

      //for
      for (var c = 0; c <= 10; c++) {
        console.log(c);
      }

      //break statement to get out of loop on a condition
      //continue statement to continue the loop

      //Math Object

      console.log(Math.PI);

      var total = add(45, 45);
      console.log(total);

      // Function Declaration // Javascript Hoisting
      function add(a, b) {
        return a + b;
      }

      // Function Expression
      var sum = function (a, b) {
        return a + b;
      };

      console.log(sum(2, 5));

      //Arrays

      var myNumbers = ['one', 'two', 'three'];

      myNumbers.push('four'); //adds new item at the end of the array
      myNumbers.unshift('zero'); //adds at the beginning
      myNumbers.pop(); //Removes last item from array
      myNumbers.shift(); //Remove item from beginning

      var myLetters = ['a', 'b', 'c'];

      console.log(myLetters.join()); //a,b,c
      console.log(myLetters.join('')); //abc
      console.log(myLetters.join('|')); //a|b|c

      // Accessor Methods
      //indexOf
      //lastIndexOf
      var fruits = ['Banana', 'Orange', 'Apple', 'Mango', 'Apple'];
      var a = fruits.indexOf('Apple');
      var ah = fruits.lastIndexOf('Apple');
      console.log(a);
      console.log(ah);

      // Slice
      var fruits = ['Banana', 'Orange', 'Apple', 'Mango', 'Apple'];
      var citrus = fruits.slice(2, 4);
      console.log(citrus);

      //For Each

      myLetters.forEach(function (value, position) {
        console.log(value + ' at ' + position);
      });

      myNumbers.forEach(function (value) {
        console.log(value);
      });

      for (var i = 0; i < fruits.length; i++) {
        console.log('item ' + fruits[i] + ' at position ' + i);
      }

      // Every

      var ages = [32, 25, 18, 10];

      //Is are all adults?

      var isAllAdults = ages.every(function (a) {
        return a >= 18;
      });

      console.log(isAllAdults);

      // Some

      var someages = [3, 12, 18, 10];

      var isAllAdult = ages.some(function (age) {
        return age >= 18;
      });

      console.log(isAllAdult);

      // Filter
      var filtages = [3, 12, 18, 22, 10];

      var adultsOnly = filtages.filter(function (ages) {
        return ages >= 18;
      });

      console.log(adultsOnly);

      // Map

      var myMarks = [90, 32, 40];

      var newMarks = myMarks.map(function (m) {
        if (m < 50) {
          return m + 10;
        } else {
          return m;
        }
      });

      console.log(newMarks);

      // Reduce
      // var rMarks = [1, 2, 3];
      var totalMarks = myMarks.reduce(function (total, mark) {
        return total + mark;
      });

      console.log(totalMarks);

      var movies = [
        {
          id: 1,
          title: 'Bahubali',
          actor: 'Prabhas',
          revenue: 300,
          theaters: ['A', 'B'],
        },
        {
          id: 2,
          title: 'Adhurs',
          actor: 'NTR',
          revenue: 45,
          theaters: ['B', 'C'],
        },
        {
          id: 3,
          title: 'Kushi',
          actor: 'Pawan',
          revenue: 15,
          theaters: ['C', 'D'],
        },
      ];

      //Every, Some, Map , Filter, Reduce

      // 1.Is any movie crossed 50cr revenue?
      var isAnyFifty = movies.some(function (movie) {
        return movie.revenue > 50;
      });
      console.log(isAnyFifty);

      // 2. Is all movies crossed 100cr revenue?
      var allCrossed = movies.every(function (m) {
        return m.revenue >= 100;
      });

      console.log(allCrossed);

      // 3. I want list of movies that is released in theater B.

      var filtMovies = movies.filter(function (movie) {
        return movie.theaters.indexOf('B') != -1;
      });

      console.log(filtMovies);

      // 4. I want list of actors of all movies.

      var allActors = movies.map(function (a) {
        return a.actor;
      });
      console.log(allActors);

      // 5. I want total revenue for all movies.

      var totalRevenue = movies.reduce(function (total, rev) {
        return total + rev.revenue;
      }, 0);

      console.log(totalRevenue);

      // 6. I want list of titles as one string.

      var titles = movies.reduce(function (t, m) {
        if (t == '') return m.title;
        return t + ',' + m.title;
      }, '');

      console.log(titles);

      //7. I want an object containing movie title as key and movie actor as value.
      /*
        {
          "Bahubali":"Prabhas",
          "Adhurs":"NTR",
          "Kushi":"Pavan"
        }
      */

      var fullTitle = movies.reduce(function (titleActors, movie) {
        titleActors[movie.title] = movie.actor;
        return titleActors;
      }, {});

      console.log(fullTitle);

      var user = {};

      user.name = 'Rocky';
      user['age'] = 25;
      var key = 'College name';
      user['key'] = 'JNTU';

      //8. I want list of theaters of all movies without any duplicates
      // ["A","B","C","D"]

      // var allTheatres = movies.map(function (theatres, movie) {
      //   movie.theaters.forEach(function (theater) {
      //     if (theaters.indexOf(theater) == -1) {
      //       theaters.push(theater);
      //     }
      //   });
      // }, []);

      // console.log(allTheatres);

      // Concat
      var a = [1, 2, 3];
      var b = [4, 5, 6];
      var c = a.concat(b);
      console.log(c);

      // Reverse
      var f = [1, 2, 3, 4, 5, 6];
      var h = f.reverse();
      console.log(h);

      // Sort
      movies.sort(function (a, b) {
        if (a.revenue > b.revenue) return 1;
        if (a.revenue < b.revenue) return -1;
        return 0;
      });
      console.log(movies);

      // Includes
      var a = [1, 4, 5, 6, 7];
      var b = a.includes(6);
      console.log(b);

      // Find

      var bahubali = movies.find(function (movie) {
        return movie.title == 'Bahubali';
      });

      // Objects
      var student = {};
      var person = new Object();

      //Adding new key-value pair

      student.name = 'Satish';
      student['age'] = '35';
      student['college name'] = 'JNTU';

      // Reading
      console.log(student.name);
      console.log(student['age']);

      var keyName = 'college name';
      console.log(student[keyName]);

      // Remove key value pair
      delete student.age;

      // check for existence of key in operator
      if ('name' in student) {
        console.log('Name: ' + student.name);
      }

      // For in loop
      for (var key in student) {
        console.log(key);
        console.log(student[key]); // No dot notation to access here
      }

      // var satish = student;
      // satish.degree = 'MTech';

      // Cloning an object
      var satish = Object.assign({}, student);
      satish.degree = 'M-Tech';

      var teacher = {
        subject: 'JS',
      };

      // Merge Objects Together
      var instructor = Object.assign({}, satish, teacher);

      var allKeys = Object.keys(instructor);
      var allValues = Object.values(instructor);

      //comparing objects using equality operator
      //it only compares references only not the contents of object
      // {}=={}  false

      var person = {
        name: 'Raju',
        address: {
          street: 'MIG 27/1',
          city: 'Hyderabad',
        },
      };

      console.log(person.address.city);
      console.log(person.address['street']);
      console.log(person['address']['street']);

      // Strings

      var myName = 'Ramesh D';
      console.log(myName.length);
      console.log(myName[0]);
      console.log(myName.charAt(0));
      console.log(myName[myName.length - 1]);

      //Strings are immutable

      console.log(myName.toUpperCase());

      var fullName = 'Ana Ivanovic';

      console.log(fullName.split(' ')); // splits by every space

      console.log(fullName.split(',')); // splits by every comma

      console.log(fullName.split('')); // splits by every character

      //Reversing string
      console.log('Ana Ivanovic'.split(''));
      console.log('Ana Ivanovic'.split('').reverse());
      console.log('Ana Ivanovic'.split('').reverse().join(''));

      // Replacing
      console.log('varma'.replace('a', '@')); // Only replaces the first instance
      console.log('varma'.replace(/a/g, '@')); // Replaces all the Instances

      // Scope
      // var a = 2; // Global Scope
      // function foo() {
      //   // anything inside is local scope
      //   var a = 3; // Local scope
      //   console.log(a); // 3
      // }

      // foo();

      // console.log(a); // 2

      // var a = 2;

      // if (true) {
      //   // Block
      //   var a = 5;
      // }

      // function foo() {
      //   var a = 3;
      //   console.log(a);
      // }

      // foo();

      // console.log(a);

      // Examples

      // var movie = 'bahubali';

      // if (true) {
      //   var movie = 'Gabbar';
      // }

      // console.log(movie);
    </script>
    <!-- <script src="class.js"></script> -->
  </head>
  <body>
    <h1>Welcome to JS class</h1>
    <p>Thank you for coming</p>
    <h1>GoodBye</h1>
    <ul>
      <li id="highlight">List Item 1</li>
      <li class="bolded">List Item 2</li>
      <li class="bolded">List Item 3</li>
    </ul>

    <button>Say Hello</button>

    <div>Div 1</div>
    <div class="highlight">Div 2</div>
    <div id="third">Div 3</div>
    <div class="highlight">Div 4</div>
  </body>
</html>
<script>
  // var h1 = document.querySelector('h1'); // Select
  // h1.style.color = 'red'; // Manipulate

  // var body = document.querySelector('body'); //SELECT
  // var isBlue = false;

  // setInterval(function () {
  //   //MANIPULATE
  //   if (isBlue) {
  //     body.style.background = 'white';
  //   } else {
  //     body.style.background = '#3498db';
  //   }
  //   isBlue = !isBlue;
  // }, 2000);

  //getElementbId
  // var high = document.getElementById('highlight');
  // high.style.color = 'green';

  // // getElementsByClassName
  // var bolded = document.getElementsByClassName('bolded');
  // bolded[0].style.color = 'red';

  // // getElementsByTagName
  // var allli = document.getElementsByTagName('li');
  // allli[2].style.color = 'orange';

  // // //querySelector - first matched element only
  // var firstBoldedLi = document.querySelector('.bolded');
  // var firstH1 = document.querySelector('h1');
  // var highlightedLi = document.querySelector('#highlight');
</script>

<script>
  $('h1').css('color', 'red');
  $('div').css('background', 'purple');
  $('.highlight').css('width', '200px');
  $('#third').css('border', '1px solid orange');
  $('div:first').css('color', 'pink');

  $('button').on('click', function () {
    $.ajax({
      url: 'http://jsonplaceholder.typicode.com/posts/1',
      success: function (data) {
        $('p').text(data.title);
      },
    });
  });

  $('h1:first').on('mouseover', function () {
    $('h1:first').text('Thank you for coming');
  });

  $('h1:first').on('mouseout', function () {
    $('h1:first').text('Welcome to JS class');
  });
</script>

<script>
  //Object Oriented Programming (OOP)
  // Class
  // Model or Blueprint
  //1. Properties
  //2. Methods
  //3. constructor

  // Object
  // instance of the class

  //Charecterstics of OOP
  //1. Encapsulation
  //2. Inheritance
  //3. Abstraction
  //4. Polymorhphism

  //Constructor function (Class)
  // function Person(name, age) {
  //   this.name = name;
  //   this.age = age;
  // }

  // Person.prototype.showName = function () {
  //   console.log(this.name);

  //   // Business Logic
  // };

  class Person {
    constructor(name, age) {
      this.name = name;
      this.age = this.age;
    }
    showName() {
      console.log(this.name);
    }
  }

  var varma = new Person('Varma', 38); // Object
  console.log(varma.showName());

  var ravi = new Person('Ravi', 28); // Another Object
  console.log(ravi.showName());

  // function Student(name, age, school) {
  //   this.name = name;
  //   this.age = age;
  //   this.school = school;
  // }

  // Student.prototype = new Person();

  // Student.prototype.showSchool = function () {
  //   console.log(this.school);
  // };

  class Student extends Person {
    constructor(name, age, school) {
      super(name, age);
      this.school = school;
    }
    showSchool() {
      console.log(this.school);
    }
  }

  var ram = new Student('Ram', 22, 'dps');
  console.log(ram.showSchool());
  console.log(ram.showName());

  // Assignment

  class Account {
    constructor(balance, withdraw, deposit) {
      this.balance = balance;
      this.withdraw = withdraw;
      this.deposit = deposit;
    }
    showAccount() {
      console.log(this.balance);
      console.log(this.withdraw);
      console.log(this.deposit);
    }
  }

  var myaccnt = new Account(500, 300, 500);
  console.log(myaccnt.showAccount());

  class SavingsAccount extends Account {
    constructor(balance, withdraw, deposit, interest) {
      super(balance, withdraw, deposit);
      this.interest = interest;
    }

    showInterest() {
      console.log(this.interest);
    }
  }

  var raju = new SavingsAccount(500, 300, 500, 2);
  console.log(raju.showInterest());
  console.log(raju.showAccount());

  class CurrentAccount extends Account {
    constructor(balance, withdraw, deposit, balanceRequirement) {
      super(balance, withdraw, deposit);
      this.balanceRequirement = balanceRequirement;
    }
    showBalanceRequirement() {
      console.log(this.balanceRequirement);
    }
  }

  var emma = new CurrentAccount(500, 300, 500, 500);
  console.log(emma.showBalanceRequirement());
  console.log(raju.showAccount());
</script>

<script>
  var a = 10;

  if (true) {
    var a = 20;
  }
  console.log(a); //20

  //Let
  var a = 10;

  if (true) {
    let a = 20;
  }
  console.log(a); //10

  // Const
  const PI = 3.1415;
  // PI = 3.2569;

  const professor = {
    name: 'Varma',
  };

  professor.age = 46;

  //professor={}; //Error because you are assigning new object to variable which is not allowed

  //Default function parameters
  var add = function (a = 0, b = 0) {
    //b = b || 0; // If b is defined take b value otherwise take zero.
    //a = a || 0;
    return a + b;
  };

  var firstName = 'Raju';
  var lastName = 'Rao';
  var fullName = firstName + ' ' + lastName;

  var street = 'MIG 27/1, Road #5';
  var area = 'KPHB';
  var city = 'Hyderabad';
  var state = 'TS';
  var postalCode = '500072';

  var shipppingLabel =
    firstName +
    ' ' +
    lastName +
    '\n' +
    street +
    '\n' +
    city +
    ',' +
    state +
    '\n' +
    postalCode;

  console.log(shipppingLabel);

  var newShippingLabel = `${firstName} ${lastName} ${street} ${area}, ${city} ${postalCode}`;
  console.log(newShippingLabel);

  // Rest Operator
  var add = function (...numbers) {
    // console.log(numbers);
    return numbers.reduce(function (a, i) {
      return a + i;
    });
  };

  //Spread Operator
  var a = [1, 2, 3];
  var b = [4, 5, 6];
  // var c = a.concat(b);
  var c = [...a, ...b];
  console.log(c);

  var family = [
    'santosh',
    'anu',
    'ramya',
    'mother',
    'father',
    'mother-in-law',
    'father-in-law',
  ];

  // var me = family[0];

  // var wife = family[1];

  // var daughter = family[2];

  // Array De-structuring
  var [me, wife, daughter] = family;
  console.log(me, wife, daughter);

  var sinora = {
    name: 'emma',
    age: 22,
  };

  // var name = student.name;
  // var age = student.age;

  var { name, age } = sinora;
  console.log(name, age);

  // Arrow Functions
  var sum = (a, b) => a + b;

  console.log(sum(1, 2));

  // Promises

  // function p() {
  //   return new Promise(function (resolve, reject) {
  //     setTimeout(function () {
  //       console.log('function p logged');
  //       resolve();
  //     }, 5000);
  //   });
  // }

  // function q() {
  //   console.log('function q is logged');
  // }

  // p()
  //   .then((result) => {
  //     q();
  //   })
  //   .catch((err) => {});

  // Generators

  function* helloWorld() {
    console.log('hello');
    yield;

    console.log('world');
    yield;
  }

  var sad = helloWorld();

  sad.next();
  sad.next();

  // Closure
  function makeCounter() {
    var counter = 0;

    return function () {
      return counter++;
    };
  }

  var counter = makeCounter();
  console.log(counter());
  console.log(counter());
  console.log(counter());
  console.log(counter());

  var secondCounter = makeCounter();
  console.log(secondCounter());

  console.log(counter());

  // Currying
  // Normal Function
  var add = function (a, b, c) {
    return a + b + c;
  };

  add(1, 2, 3);

  // Curried Version
  var add = function (a) {
    return function (b) {
      return function (c) {
        return a + b + c;
      };
    };
  };

  add(1)(2)(3);

  // try {
  // Code
  //   throw new Error('some error');
  // } catch (error) {
  //   console.log(JSON.stringify(error));
  // } finally {
  // }

  function getProfile(x, y) {
    console.log('My profile ' + this.displayName + ' ' + x + ' ' + y);
  }

  // getProfile(person, 1, 2);

  var person = { displayName: 'Varma B' };

  getProfile.call(person, 1, 2);
  getProfile.apply(person, [1, 2]);
</script>
